<!DOCTYPE html>
<html lang="{{ .Site.LanguageCode }}" class="bg-indigo-50">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{{ .Title }} - {{ .Site.Title }}</title>
  <meta name="description" content="{{ .Params.description | default .Site.Params.description }}" />
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
  <link rel="shortcut icon" href="/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png" />

  <!-- Canonical URL -->
  <link rel="canonical" href="{{ .Permalink }}" />

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="{{ .Title | default .Site.Title }}" />
  <meta property="og:description" content="{{ .Params.subtitle | default .Site.Params.description }}" />
  <meta property="og:url" content="{{ .Permalink }}" />
  {{ $ogImage := partial "og-image.html" . }}
  <meta property="og:image" content="{{ .Site.BaseURL }}{{ $ogImage }}" />
  {{ if .File }}
  {{ $pathComponents := slice .Language.Lang }}
  {{ if .Section }}{{ $pathComponents = $pathComponents | append .Section }}{{ end }}
  {{ if ne .File.LogicalName "_index.md" }}{{ $pathComponents = $pathComponents | append (replace .File.LogicalName ".md" "") }}{{ else }}{{ $pathComponents = $pathComponents | append "_index" }}{{ end }}
  {{ $ogImagePath := printf "/images/og/%s.png" (delimit $pathComponents "-") }}
  {{ if fileExists (printf "static%s" $ogImagePath) }}
  <meta property="og:image:width" content="1200" />
  <meta property="og:image:height" content="630" />
  <meta property="og:image:type" content="image/png" />
  {{ end }}
  {{ end }}

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="{{ .Title | default .Site.Title }}" />
  <meta name="twitter:description" content="{{ .Params.subtitle | default .Site.Params.description }}" />
  <meta name="twitter:image" content="{{ .Site.BaseURL }}{{ partial "og-image.html" . }}" />
  <meta name="twitter:site" content="@MetroOlografix" />

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="/css/main.css" />
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            "primary-dark": "#16213e",
            "primary-light": "#e2e8f0",
            accent: "#042a59",
          },
          typography: {
            DEFAULT: {
              css: {
                color: '#333',
                a: {
                  color: '#042a59',
                  '&:hover': {
                    color: '#16213e',
                  },
                },
              },
            },
          },
        },
      },
      plugins: [
        function ({ addComponents }) {
          addComponents({
            '.prose': {
              '& p': { marginTop: '1.25em', marginBottom: '1.25em' },
              '& a': { color: '#042a59', textDecoration: 'underline' },
              '& ul': { listStyleType: 'disc', marginTop: '1.25em', marginBottom: '1.25em', paddingLeft: '1.625em' },
              '& ol': { listStyleType: 'decimal', marginTop: '1.25em', marginBottom: '1.25em', paddingLeft: '1.625em' },
              '& li': { marginTop: '0.5em', marginBottom: '0.5em' },
              '& h1': { fontSize: '2.25em', marginTop: '0', marginBottom: '0.8em', fontWeight: '800' },
              '& h2': { fontSize: '1.5em', marginTop: '2em', marginBottom: '1em', fontWeight: '700' },
              '& h3': { fontSize: '1.25em', marginTop: '1.6em', marginBottom: '0.6em', fontWeight: '600' },
              '& h4': { fontSize: '1.125em', marginTop: '1.5em', marginBottom: '0.5em', fontWeight: '600' },
              '& blockquote': { fontWeight: '500', fontStyle: 'italic', color: '#1a202c', borderLeftWidth: '0.25rem', borderLeftColor: '#e2e8f0', paddingLeft: '1rem' },
              '& code': { color: '#1a202c', fontWeight: '600', fontSize: '0.875em' },
              '& pre': { backgroundColor: '#f7fafc', overflow: 'auto', padding: '1rem', borderRadius: '0.375rem', marginTop: '1.25em', marginBottom: '1.25em' },
              '& hr': { borderColor: '#e2e8f0', marginTop: '3em', marginBottom: '3em' },
            }
          })
        }
      ],
    };
  </script>
  {{ if in .RelPermalink "/photogallery/" }}
  <link href="/css/lightbox.min.css" rel="stylesheet" />
  <script src="/js/lightbox-plus-jquery.min.js"></script>
  {{end}}
  <link rel="stylesheet" href="/css/fontawesome.css" />

  <!-- Analytics (Umami) -->
  <script defer src="https://cloud.umami.is/script.js" data-website-id="8a990d14-c129-4220-9c0d-be2e2c59ee34"></script>
</head>

<body class="min-h-screen flex flex-col">
  <!-- Moved header and menu outside the container -->
  {{ partial "header.html" . }}
  {{ partial "menu.html" . }}

  <div class="container mx-auto px-4 sm:px-0 max-w-4xl flex-grow relative">
    <main class="max-w-4xl">
      {{ if ne .Page.Path "/404" }} {{ partial "breadcrumbs.html" . }} {{ end
      }} {{ block "main" . }}{{ end }}
    </main>
  </div>
  {{ partial "footer.html" . }}
  <script src="/js/main.js"></script>
  <script src="/js/recurring-events.js"></script>
</body>

</html>